<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">

    <!-- Additional Styles -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap" rel="stylesheet">

    <title>Puntos de Interés en Modelo 3D</title>

    <style>
        #plantViewer {
            width: 100%;
            height: auto;
            margin-bottom: 20px;
        }
        .container.slider {
            width: 100%;
            overflow-x: auto;
            white-space: nowrap;
        }
        .slide {
            display: inline-block;
            width: 60px;
            height: 60px;
            margin: 5px;
            background-size: cover;
        }
        .col-form-label {
            text-align: end;
        }
        .form-control {
            max-width: 100%;
        }
    </style>
</head>

<body class="bg-white">

    <!-- Model Viewer -->
    <model-viewer id="plantViewer" src="../src/bean/Frijol_0.glb" alt="A 3D model of a plant" auto-rotate camera-controls ar autoplay scale="0.2 0.2 0.2" ar-modes="webxr scene-viewer quick-look" exposure="0.7" shadow-intensity="1" shadow-softness="1">
    </model-viewer>

    <!-- Steps Slider -->
    <div class="container slider d-flex justify-content-center">
        <div id="menuEtapas" class="slides d-flex justify-content-center">
            <button class="slide selected" onclick="switchSrc(this, 'bean/Frijol_0')" style="background-image: url('../src/img/steps/1.png');"></button>
            <button class="slide" onclick="switchSrc(this, 'bean/Frijol_1')" style="background-image: url('../src/img/steps/3.png');"></button>
            <button class="slide" onclick="switchSrc(this, 'bean/Frijol_2')" style="background-image: url('../src/img/steps/4.png');"></button>
            <button class="slide" onclick="switchSrc(this, 'bean/Frijol_3')" style="background-image: url('../src/img/steps/5.png');"></button>
            <button class="slide" onclick="switchSrc(this, 'bean/Frijol_4')" style="background-image: url('../src/img/steps/6.png');"></button>
        </div>
    </div>

    <div class="container text-center">
        <!-- Logo -->
        <div class="row p-3">
            <div class="col-12">
                <a href="../index.html" class="align-items-center border-bottom">
                    <img id="logoUsb" class="img-fluid" style="width: 50%;" src="../src/img/logo_cop_usb.png" alt="Imagen de Encabezado">
                </a>
            </div>
        </div>
        <hr>
        <h4>Predicción de Supervivencia</h4>
        <button id="modalEstandar" type="button" class="btn btn-primary btn-round" data-bs-toggle="modal" data-bs-target="#modalTab">
            <i class="bi bi-info-circle" style="font-size: 20px;"></i>
        </button>

        <!-- Formulario de Parámetros -->
        <form id="plant-form" class="mt-4">
            <div class="row mb-3">
                <label for="temperatura" class="col-6 col-form-label text-end">Temperatura (°C):</label>
                <div class="col-6"><input type="number" id="temperatura" class="form-control" step="any" value="20" required></div>
            </div>
            <div class="row mb-3">
                <label for="humedad_suelo" class="col-6 col-form-label text-end">Humedad del Suelo (%):</label>
                <div class="col-6"><input type="number" id="humedad_suelo" class="form-control" step="any" value="60" required></div>
            </div>
            <div class="row mb-3">
                <label for="humedad_ambiente" class="col-6 col-form-label text-end">Humedad Ambiente (%):</label>
                <div class="col-6"><input type="number" id="humedad_ambiente" class="form-control" step="any" value="60" required></div>
            </div>
            <div class="row mb-3">
                <label for="luz" class="col-6 col-form-label text-end">Luz (Lux):</label>
                <div class="col-6"><input type="number" id="luz" class="form-control" step="any" value="4000" required></div>
            </div>
            <div class="row mb-3">
                <label for="ph_suelo" class="col-6 col-form-label text-end">pH del Suelo:</label>
                <div class="col-6"><input type="number" id="ph_suelo" class="form-control" step="any" value="6" required></div>
            </div>
            <div class="row mb-3">
                <label for="co2" class="col-6 col-form-label text-end">CO₂ (ppm):</label>
                <div class="col-6"><input type="number" id="co2" class="form-control" step="any" value="400" required></div>
            </div>
            <div class="row mb-3">
                <label for="nitrogeno" class="col-6 col-form-label text-end">Nitrógeno (ppm):</label>
                <div class="col-6"><input type="number" id="nitrogeno" class="form-control" step="any" value="20" required></div>
            </div>
            <div class="row mb-3">
                <label for="fosforo" class="col-6 col-form-label text-end">Fósforo (ppm):</label>
                <div class="col-6"><input type="number" id="fosforo" class="form-control" step="any" value="20" required></div>
            </div>
            <div class="row mb-3">
                <label for="potasio" class="col-6 col-form-label text-end">Potasio (ppm):</label>
                <div class="col-6"><input type="number" id="potasio" class="form-control" step="any" value="200" required></div>
            </div>
        </form>

        <hr>
        <button id="predecirBtn" onclick="predict()" type="button" class="btn btn-outline-primary mb-4">Predecir</button>

        <!-- Resultados y Errores -->
        <div id="loading" class="d-none">Cargando...</div>
        <div id="result" class="result"></div>
        <div id="error" class="error"></div>

        <!-- Modal -->
        <div class="modal fade bd-example-modal-lg" id="modalTab" tabindex="-1" aria-labelledby="modalTabLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="modalTabLabel">Tabla de Rangos de Variables</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Característica</th>
                                    <th scope="col">Unidad</th>
                                    <th scope="col">Rango</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Table Content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script src="https://unpkg.com/@google/model-viewer@1.10.3/dist/model-viewer.min.js"></script>
</body>
</html>
